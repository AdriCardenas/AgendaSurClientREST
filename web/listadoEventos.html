<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Agenda Sur</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script>
            var xhttp;
            function createConnection() {
                xhttp = new XMLHttpRequest();
            }

            createConnection();
            xhttp.onreadystatechange = handleResponse;
            var url = "http://localhost:8080/AgendaSurServerREST/webresources/agendasur.entity.evento";
            console.log(url);
            xhttp.open("GET", url, true);
            xhttp.send(null);

            
            function handleResponse() {

                if (xhttp.readyState == 4 && xhttp.status == 200) {
                    var texto = JSON.parse(xhttp.responseText);
                    //var node = document.createElement("TR");
                    //var node2 = document.createElement("TD");
                    
                    //var tr;
                    for(var i = 0; i < texto.length; i++){
                        var node = document.createElement("TR");
                        var node2 = document.createElement("TD");
                        var text;
                        
                        text = document.createTextNode(texto[i].nombre);
                        node2.appendChild(text);
                        node.appendChild(node2);
                        
                        var node2 = document.createElement("TD");
                        text = document.createTextNode(texto[i].descripcion);
                        node2.appendChild(text);
                        node.appendChild(node2);
                        
                        var node2 = document.createElement("TD");
                        text = document.createTextNode(texto[i].fechainicio);
                        node2.appendChild(text);
                        node.appendChild(node2);
                        
                        var node2 = document.createElement("TD");
                        text = document.createTextNode(texto[i].fechafin);
                        node2.appendChild(text);
                        node.appendChild(node2);
                        
                        var node2 = document.createElement("TD");
                        text = document.createTextNode(texto[i].direccion);
                        node2.appendChild(text);
                        node.appendChild(node2);
                        
                        /*
                        tr = texto[i].descripcion ;
                        tr = texto[i].fechainicio;
                        tr = texto[i].fechafin;
                        tr = texto[i].direccion;
                        
                        node.appendChild(node2);
                        */
                       document.getElementById('table').appendChild(node);
                    }
                    
                    /*
                    document.getElementById('customerid').value = texto.customerId;
                    document.getElementById('name').value = texto.name;
                    document.getElementById('address').value = texto.addressline1;
                    document.getElementById('email').value = texto.email;
                    */    
                }
            }
        </script>

    </head>
    <body>
        <table id="table" border="1">
            <tr>
                <th>Nombre</th>
                <th>Descripción</th> 
                <th>Fecha inicio</th>
                <th>Fecha fin</th>
                <th>Ubicación</th>
            </tr>

        </table>


    </body>
</html>
